(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[61633],{807472:(e,r,n)=>{"use strict";n.d(r,{Z:()=>E});var t=n(727418),o=n.n(t),i=n(423482),a=n.n(i),p=n(124852),l=n.n(p),s=n(485294),c=n.n(s),u=n(472986),d=n.n(u),f=n(805346);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function b(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?g(Object(n),!0).forEach((function(r){j(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function y(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,x(t.key),t)}}function h(e,r,n){return r=w(r),function(e,r){if(r&&("object"===m(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(e,v()?Reflect.construct(r,n||[],w(e).constructor):r.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function j(e,r,n){return(r=x(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function x(e){var r=function(e,r){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=m(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(r)?r:String(r)}var S=function(e){function r(){var e;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return j(P(e=h(this,r,[].concat(t))),"renderLoading",(function(){return e.props.maskLoading?l().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},l().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},l().createElement(f.Z,{msgId:"loading"}),l().createElement(d(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),j(P(e),"renderRole",(function(r){return l().Children.toArray(e.props.children).filter((function(e){return e.props.role===r}))})),j(P(e),"hasRole",(function(r){return l().Children.toArray(e.props.children).filter((function(e){return e.props.role===r})).length>0})),j(P(e),"onClickOut",(function(r){e.props.onClickOut&&e.mask===r.target&&e.props.onClickOut(r)})),e}var n,t;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&O(e,r)}(r,e),n=r,(t=[{key:"render",value:function(){var e=this,r=l().createElement("div",{id:this.props.id,style:b({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},l().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),l().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?l().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):l().createElement("span",null)),n=this.props.draggable?l().createElement(c(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},r):r,t=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?l().createElement("div",{ref:function(r){e.mask=r},onClick:this.onClickOut,style:t,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&y(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),r}(l().Component);j(S,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),j(S,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const E=S},451978:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>ae});var t=n(893379),o=n.n(t),i=n(72954);o()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=n(91175),p=n.n(a),l=n(984596),s=n.n(l),c=n(727418),u=n.n(c),d=n(423482),f=n.n(d),m=n(124852),g=n.n(m),b=n(480681),y=n(322843),h=n(22222),v=n(782904),w=n(986069),P=n(805346),O=n(807472),j=n(145959),x=n(650148),S=n(675110),E=n(308316),C=n(800827),k=n(93152),N=n(986267),A=n(86638),L=n(552259),I=n(624262),Z=n(218721),B=n.n(Z),z=n(264721),R=n.n(z),T=n(227361),_=n.n(T),M=function(e){return _()(e,"additionallayers")||[]},D=["validations"],U=["style"];function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},W.apply(this,arguments)}function G(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,te(t.key),t)}}function $(e,r,n){return r=K(r),function(e,r){if(r&&("object"===F(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}(e,q()?Reflect.construct(r,n||[],K(e).constructor):r.apply(e,n))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,r){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},Y(e,r)}function J(e,r){if(e){if("string"==typeof e)return Q(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,r):void 0}}function Q(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ee(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function re(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?ee(Object(n),!0).forEach((function(r){ne(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function ne(e,r,n){return(r=te(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function te(e){var r=function(e,r){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=F(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(r)?r:String(r)}var oe=function(){return null};function ie(e){return e.plugin?e:re(re({},e),{},{plugin:oe})}const ae={PrintPlugin:u()({loadPlugin:function(e){Promise.all([Promise.all([n.e(18672),n.e(49232),n.e(38238),n.e(94192),n.e(36882),n.e(13581),n.e(34049),n.e(47316)]).then(n.bind(n,174884)),Promise.all([n.e(18672),n.e(49232),n.e(36882),n.e(13581),n.e(34049),n.e(39040)]).then(n.bind(n,134049))]).then((function(r){var n,t,o=(t=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i,a,p=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=i.call(n)).done)&&(p.push(t.value),p.length!==r);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return p}}(n,t)||J(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1],l=i.default.standardItems,c=a.getDefaultPrintingService,u=a.getLayoutName,d=a.getPrintScales,m=a.getNearestZoom,j=function(e){function r(){var e;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return ne(V(e=$(this,r,[].concat(t))),"state",{activeAccordionPanel:0}),ne(V(e),"getAlternativeBackground",(function(r,n,t){var o=p()(s()(n).map((function(e){return{type:e}})).filter((function(r){return e.isAllowed(r,t)})));return o?p()(r.filter((function(e){return e.type===o.type}))):null})),ne(V(e),"getItems",(function(r){var n,t,o=e.props.items.filter((function(e){return!r||e.target===r})),i=(n=l[r],t=e.props.items,n.map((function(e){return function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(r){return r.target===e.id}));return null!=r?r:e}(e,t)})).map(ie)).map((function(e){return re(re({},e),{},{target:r})}));return[].concat(X(i),X(o)).sort((function(e,r){var n,t;return(null!==(n=e.position)&&void 0!==n?n:0)-(null!==(t=r.position)&&void 0!==t?t:0)}))})),ne(V(e),"getMapConfiguration",(function(){var r=e.props.printingService.getMapConfiguration();return re(re({},r),{},{layers:e.filterLayers(r.layers,r.zoom,r.projection)})})),ne(V(e),"getMapSize",(function(r){var n=r||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),ne(V(e),"getPreviewZoom",(function(r){if(e.props.useFixedScales){var n=d(e.props.capabilities);return m(r,n)}return r})),ne(V(e),"getPreviewResolution",(function(r,n){var t=(0,L.dpi2dpu)(L.DEFAULT_SCREEN_DPI,n);return e.props.scales[e.getPreviewZoom(r)]/t})),ne(V(e),"getLayout",(function(r){var n=r||e.props,t=n.getLayoutName,o=n.printSpec,i=n.capabilities,a=t(o);return p()(i.layouts.filter((function(e){return e.name===a})))})),ne(V(e),"renderWarning",(function(e){return e?null:g().createElement(b.Row,null,g().createElement(b.Col,{xs:12},g().createElement("div",{className:"print-warning"},g().createElement("span",null,g().createElement(P.Z,{msgId:"print.layoutWarning"})))))})),ne(V(e),"renderItem",(function(r,n){var t,o,i=n.validations,a=G(n,D),p=null!==(t=r.component)&&void 0!==t?t:r.plugin,l=e.props,s=(l.style,G(l,U)),c=e.props[r.id+"Options"];return g().createElement(p,W({role:"body"},s,r.cfg,a,c,{validation:null==i?void 0:i[null!==(o=r.id)&&void 0!==o?o:r.name]}))})),ne(V(e),"renderItems",(function(r,n){return e.getItems(r).map((function(r){return e.renderItem(r,n)}))})),ne(V(e),"renderAccordion",(function(r,n){var t=e.getItems(r);return g().createElement(b.PanelGroup,{accordion:!0,activeKey:e.state.activeAccordionPanel,onSelect:function(r){e.setState({activeAccordionPanel:r})}},t.map((function(r,t){var o,i,a;return g().createElement(b.Panel,{header:(0,A.S$)(e.context.messages,null!==(o=null!==(i=null===(a=r.cfg)||void 0===a?void 0:a.title)&&void 0!==i?i:r.title)&&void 0!==o?o:""),eventKey:t,collapsible:!0},e.renderItem(r,n))})))})),ne(V(e),"renderPrintPanel",(function(){var r=e.getLayout(),n=e.getMapConfiguration(),t={layout:r,map:n,layoutName:e.props.getLayoutName(e.props.printSpec),mapSize:e.getMapSize(r),resolutions:(0,L.getResolutions)(null==n?void 0:n.projection),onRefresh:function(){return e.configurePrintMap()},notAllowedLayers:e.isBackgroundIgnored(e.props.layers,null==n?void 0:n.projection),actionConfig:e.props.submitConfig,validations:e.props.printingService.validate(),actions:{print:e.print,addParameter:e.addParameter}};return g().createElement(b.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(r),g().createElement(b.Row,null,g().createElement(b.Col,{xs:12,md:6},e.renderItems("left-panel",t),e.renderAccordion("left-panel-accordion",t)),g().createElement(b.Col,{xs:12,md:6,style:{textAlign:"center"}},e.renderItems("right-panel",t),e.renderItems("buttons",t),e.renderDownload())))})),ne(V(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?g().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),ne(V(e),"renderError",(function(){return e.props.error?g().createElement(b.Row,null,g().createElement(b.Col,{xs:12},g().createElement("div",{className:"print-error"},g().createElement("span",null,e.props.error)))):null})),ne(V(e),"renderPreviewPanel",(function(){return e.renderItems("preview-panel",e.props.previewOptions)})),ne(V(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),ne(V(e),"addParameter",(function(r,n){e.props.addPrintParameter("params."+r,n)})),ne(V(e),"isCompatibleWithSRS",(function(e,r){return"EPSG:3857"===e||R()(["wms","wfs","vector","graticule","empty"],r.type)||"wmts"===r.type&&B()(r.allowedSRS,e)})),ne(V(e),"isAllowed",(function(r,n){return-1===e.props.ignoreLayers.indexOf(r.type)&&e.isCompatibleWithSRS((0,N.normalizeSRS)(n),r)})),ne(V(e),"isBackgroundIgnored",(function(r,n){return!p()((r||e.props.layers).filter((function(r){return"background"===r.group&&r.visibility&&e.isAllowed(r,n)})))})),ne(V(e),"filterLayers",(function(r,n,t){var o=e.getPreviewResolution(n,t),i=r.filter((function(r){return r.visibility&&(0,I.T4)(r,o)&&e.isAllowed(r,t)}));if(e.isBackgroundIgnored(r,t)&&e.props.defaultBackground&&e.props.printSpec.defaultBackground){var a=e.getAlternativeBackground(r,e.props.defaultBackground);return a?[re(re({},a),{},{visibility:!0})].concat(X(i)):i}return i})),ne(V(e),"configurePrintMap",(function(r){var n=r||e.props,t=n.map,o=n.capabilities,i=n.minZoom,a=n.configurePrintMap,p=n.useFixedScales,l=n.getZoomForExtent,s=n.maxZoom,c=n.currentLocale,u=n.scales,f=n.layers;if(t&&t.bbox&&o){var g=(0,N.reprojectBbox)([t.bbox.bounds.minx,t.bbox.bounds.miny,t.bbox.bounds.maxx,t.bbox.bounds.maxy],t.bbox.crs,t.projection),b=e.getMapSize();if(p){var y=l(g,b,i,s),h=d(o),v=m(t.zoom,h),w=h[v];a(t.center,y,v,w,f,t.projection,c)}else{var P=u[t.zoom];a(t.center,t.zoom,t.zoom,P,f,t.projection,c)}}})),ne(V(e),"print",(function(){var r;e.props.setPage(0),e.props.onBeforePrint(),e.props.printingService.print({layers:null===(r=e.getMapConfiguration())||void 0===r?void 0:r.layers,scales:e.props.useFixedScales?d(e.props.capabilities):void 0}).then((function(r){return e.props.onPrint(e.props.capabilities.createURL,re(re({},r),e.props.overrideOptions))})).catch((function(r){e.props.printError("Error in printing:"+r.message)}))})),e}var n,t;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Y(e,r)}(r,e),n=r,(t=[{key:"UNSAFE_componentWillMount",value:function(){this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var r=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,L.mapUpdated)(this.props.map,e.map),t=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground||e.printSpec.additionalLayers!==this.props.printSpec.additionalLayers;(r||n||t)&&this.configurePrintMap(e)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?g().createElement(b.Panel,{className:"mapstore-print-panel",header:g().createElement("span",null,g().createElement("span",{className:"print-panel-title"},g().createElement(P.Z,{msgId:"print.paneltitle"})),g().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):g().createElement(O.Z,{start:{x:0,y:80},id:"mapstore-print-panel",style:re({zIndex:1990},this.props.style)},g().createElement("span",{role:"header"},g().createElement("span",{className:"print-panel-title"},g().createElement(P.Z,{msgId:"print.paneltitle"})),g().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?g().createElement(b.Glyphicon,{glyph:this.props.closeGlyph}):g().createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&H(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),r}(g().Component);ne(j,"propTypes",{map:f().object,layers:f().array,capabilities:f().object,printSpec:f().object,printSpecTemplate:f().object,withContainer:f().bool,withPanelAsContainer:f().bool,open:f().bool,pdfUrl:f().string,title:f().string,style:f().object,mapWidth:f().number,mapType:f().string,alternatives:f().array,toggleControl:f().func,onBeforePrint:f().func,setPage:f().func,onPrint:f().func,printError:f().func,configurePrintMap:f().func,getLayoutName:f().func,error:f().string,getZoomForExtent:f().func,minZoom:f().number,maxZoom:f().number,usePreview:f().bool,mapPreviewOptions:f().object,syncMapPreview:f().bool,useFixedScales:f().bool,scales:f().array,ignoreLayers:f().array,defaultBackground:f().oneOfType([f().string,f().arrayOf(f().string)]),closeGlyph:f().string,submitConfig:f().object,previewOptions:f().object,currentLocale:f().string,overrideOptions:f().object,items:f().array,addPrintParameter:f().func,printingService:f().object}),ne(j,"contextTypes",{messages:f().object,plugins:f().object,loadedPlugins:f().object}),ne(j,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},getLayoutName:u,getZoomForExtent:L.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:["osm","wms","empty"],closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{},items:[],printingService:c()});var Z=(0,h.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},x.DX,function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},C.Od,S.l2,M,C.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},E.Pz,k.$v],(function(e,r,n,t,o,i,a,p,l,s,c,u){return{open:e,capabilities:r,printSpec:n,pdfUrl:t,error:o,map:i,layers:[].concat(X(a.filter((function(e){return!e.loadingError}))),X(null!=n&&n.additionalLayers?p.map((function(e){return e.options})).filter((function(e){var r="vector"===e.type,n=Array.isArray(e.features)&&e.features.length>0;return!e.loadingError&&(!r||r&&n)})):[])),scales:l,usePreview:s,currentLocale:c,mapType:u}})),z=(0,y.$j)(Z,{toggleControl:v.Xi.bind(null,"print",null),onPrint:w.gV,printError:w.OS,onBeforePrint:w.MW,setPage:v.Xg.bind(null,"print","currentPage"),configurePrintMap:w.h9,addPrintParameter:w.eT})(j);e(z)}))},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:g().createElement(P.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:g().createElement(b.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,tooltip:"printToolTip",text:g().createElement(P.Z,{msgId:"printbutton"}),icon:g().createElement(b.Glyphicon,{glyph:"print"}),action:v.Xi.bind(null,"print",null),priority:3,doNotHide:!0},SidebarMenu:{name:"print",position:3,tooltip:"printbutton",text:g().createElement(P.Z,{msgId:"printbutton"}),icon:g().createElement(b.Glyphicon,{glyph:"print"}),action:v.Xi.bind(null,"print",null),doNotHide:!0,toggle:!0,priority:2}}),reducers:{print:j.Z}}},145959:(e,r,n)=>{"use strict";n.d(r,{Z:()=>h});var t=n(986069),o=n(782904),i=n(513218),a=n.n(i),p=n(227361),l=n.n(p),s=n(727418),c=n.n(s),u=n(436968),d=n.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?m(Object(n),!0).forEach((function(r){var t,o,i,a;t=e,o=r,i=n[r],a=function(e,r){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=f(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==f(a)?a:String(a))in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var b={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:"",outputFormat:"pdf"},y=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_")[0]};const h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:b,capabilities:null,map:null,isLoading:!1,pdfUrl:null},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case o.kM:return"print"===r.control?c()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case t.qp:var n=l()(r,"capabilities.layouts",[{name:"A4"}]),i=n.filter((function(r){return y(r.name)===e.spec.sheet})).length?e.spec.sheet:y(n[0].name);return c()({},e,{capabilities:r.capabilities,spec:c()({},e.spec||{},{sheet:i,resolution:r.capabilities&&r.capabilities.dpis&&r.capabilities.dpis.length&&r.capabilities.dpis[0].value})});case t.U6:return g(g({},e),{},{spec:d()(g({},e.spec),r.name,r.value)});case t.rd:return l()(e.spec,r.name)?e:g(g({},e),{},{spec:d()(g({},e.spec),r.name,r.value)});case t.PB:var p,s,u=r.layers.map((function(e){return e.title?c()({},e,{title:a()(e.title)&&r.currentLocale&&e.title[r.currentLocale]||a()(e.title)&&e.title.default||e.title}):e}));return c()({},e,{map:{center:r.center,zoom:r.zoom,scaleZoom:r.scaleZoom,scale:r.scale,layers:u,size:null!==(p=r.size)&&void 0!==p?p:null===(s=e.map)||void 0===s?void 0:s.size,projection:r.projection},error:null});case t.HA:var f=r.zoom-e.map.scaleZoom;return c()({},e,{map:c()({},e.map,{scaleZoom:r.zoom,zoom:e.map.zoom+f,scale:r.scale})});case t.Yk:return c()({},e,{map:c()({},e.map,{size:r.size})});case t.Fp:return c()({},e,{isLoading:!0,pdfUrl:null,error:null});case t.EZ:return c()({},e,{isLoading:!1,pdfUrl:r.url,error:null});case t.WB:case t.aN:return c()({},e,{isLoading:!1,pdfUrl:null,error:r.error});case t.qH:return c()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},650148:(e,r,n)=>{"use strict";n.d(r,{DX:()=>i,p6:()=>a,LI:()=>p});var t=n(727418),o=n.n(t),i=function(e){return e.print&&e.print.spec&&o()({},e.print.spec,e.print.map||{})},a=function(e){return e.print&&e.print.capabilities&&e.print.capabilities.layouts.filter((function(r){return 0===r.name.indexOf(e.print.spec.sheet)}))||[]},p=function(e){return e.print&&e.print.spec&&e.print.spec.includeLegend}},72954:(e,r,n)=>{"use strict";n.d(r,{Z:()=>i});var t=n(923645),o=n.n(t)()((function(e){return e[1]}));o.push([e.id,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-preview-img-wrapper {\r\n    position: relative;\r\n    top: 0;\r\n    height: 500px;\r\n    width: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-preview-img-wrapper img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""]);const i=o}}]);