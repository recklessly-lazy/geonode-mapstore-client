(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[76932],{624969:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var r=i(859900),o=i(286320),n=i(66575),s=i(173381);const a=function(t){function e(e,i,r){t.call(this);var o=r||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===o.transition?250:o.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s.Z.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?e=t:t.getState()==r.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:(0,o.YQ)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n.Z)},593888:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=i(83482),o=i(570701);const n=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,o.Ul)(t)[0];this.forEach((function(t){t.tileCoord[0]!==e&&(this.remove((0,o.km)(t.tileCoord)),t.dispose())}),this)}},e}(r.Z)},152209:(t,e,i)=>{"use strict";i.d(e,{a:()=>a,s:()=>l});var r=i(85386),o=i(421915),n=i(921882),s=i(218672);function a(t,e,i,r){var n=(0,s.vs)(i,e,t),a=(0,s._Q)(e,r,i),h=e.getMetersPerUnit();void 0!==h&&(a*=h);var l=t.getMetersPerUnit();void 0!==l&&(a/=l);var u=t.getExtent();if(!u||(0,o.b8)(u,n)){var c=(0,s._Q)(t,a,n)/a;isFinite(c)&&c>0&&(a/=c)}return a}function h(t,e,i,r){var o=i-t,n=r-e,s=Math.sqrt(o*o+n*n);return[Math.round(i+o/s),Math.round(r+n/s)]}function l(t,e,i,s,a,l,u,c,p,g,d){var f=(0,r.E4)(Math.round(i*t),Math.round(i*e));if(0===p.length)return f.canvas;f.scale(i,i);var _=(0,o.lJ)();p.forEach((function(t,e,i){(0,o.l7)(_,t.extent)}));var v=(0,o.dz)(_),T=(0,o.Cr)(_),y=(0,r.E4)(Math.round(i*v/s),Math.round(i*T/s)),m=i/s;p.forEach((function(t,e,i){var r=t.extent[0]-_[0],n=-(t.extent[3]-_[3]),s=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);y.drawImage(t.image,g,g,t.image.width-2*g,t.image.height-2*g,r*m,n*m,s*m,a*m)}));var C=(0,o.rL)(u);return c.getTriangles().forEach((function(t,e,r){var o=t.source,a=t.target,u=o[0][0],c=o[0][1],p=o[1][0],g=o[1][1],d=o[2][0],v=o[2][1],T=(a[0][0]-C[0])/l,m=-(a[0][1]-C[1])/l,E=(a[1][0]-C[0])/l,Z=-(a[1][1]-C[1])/l,F=(a[2][0]-C[0])/l,x=-(a[2][1]-C[1])/l,P=u,j=c;u=0,c=0;var S=[[p-=P,g-=j,0,0,E-T],[d-=P,v-=j,0,0,F-T],[0,0,p,g,Z-m],[0,0,d,v,x-m]],R=(0,n.SV)(S);if(R){f.save(),f.beginPath();var I=(T+E+F)/3,G=(m+Z+x)/3,O=h(I,G,T,m),z=h(I,G,E,Z),L=h(I,G,F,x);f.moveTo(z[0],z[1]),f.lineTo(O[0],O[1]),f.lineTo(L[0],L[1]),f.clip(),f.transform(R[0],R[2],R[1],R[3],T,m),f.translate(_[0]-P,_[3]-j),f.scale(s/i,-s/i),f.drawImage(y.canvas,0,0),f.restore()}})),d&&(f.save(),f.strokeStyle="black",f.lineWidth=1,c.getTriangles().forEach((function(t,e,i){var r=t.target,o=(r[0][0]-C[0])/l,n=-(r[0][1]-C[1])/l,s=(r[1][0]-C[0])/l,a=-(r[1][1]-C[1])/l,h=(r[2][0]-C[0])/l,u=-(r[2][1]-C[1])/l;f.beginPath(),f.moveTo(s,a),f.lineTo(o,n),f.lineTo(h,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}},856245:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var r=i(421915),o=i(921882),n=i(218672),s=function(t,e,i,o,s){this.sourceProj_=t,this.targetProj_=e;var a={},h=(0,n.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=h(t)),a[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,r.dz)(o)==(0,r.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,r.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,r.dz)(this.targetProj_.getExtent()):null;var l=(0,r.rL)(i),u=(0,r.Xv)(i),c=(0,r.w$)(i),p=(0,r.hC)(i),g=this.transformInv_(l),d=this.transformInv_(u),f=this.transformInv_(c),_=this.transformInv_(p);if(this.addQuad_(l,u,c,p,g,d,f,_,10),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,i){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}};s.prototype.addTriangle_=function(t,e,i,r,o,n){this.triangles_.push({source:[r,o,n],target:[t,e,i]})},s.prototype.addQuad_=function(t,e,i,n,s,a,h,l,u){var c=(0,r.hI)([s,a,h,l]),p=this.sourceWorldWidth_?(0,r.dz)(c)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&p>.5&&p<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=(0,r.hI)([t,e,i,n]);f=(0,r.dz)(_)/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&p&&(f=p>.25||f)}if(f||!this.maxSourceExtent_||(0,r.kK)(c,this.maxSourceExtent_)){if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;f=!0}if(u>0){if(!f){var v,T=[(t[0]+i[0])/2,(t[1]+i[1])/2],y=this.transformInv_(T);v=d?((0,o.$W)(s[0],g)+(0,o.$W)(h[0],g))/2-(0,o.$W)(y[0],g):(s[0]+h[0])/2-y[0];var m=(s[1]+h[1])/2-y[1];f=v*v+m*m>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var C=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(C),Z=[(n[0]+t[0])/2,(n[1]+t[1])/2],F=this.transformInv_(Z);this.addQuad_(t,e,C,Z,s,a,E,F,u-1),this.addQuad_(Z,C,i,n,F,E,h,l,u-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],P=this.transformInv_(x),j=[(i[0]+n[0])/2,(i[1]+n[1])/2],S=this.transformInv_(j);this.addQuad_(t,x,j,n,s,P,S,l,u-1),this.addQuad_(x,e,i,j,P,a,h,S,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,n,s,h,l),this.addTriangle_(t,e,i,s,a,h)}},s.prototype.calculateSourceExtent=function(){var t=(0,r.lJ)();return this.triangles_.forEach((function(e,i,o){var n=e.source;(0,r.Wj)(t,n[0]),(0,r.Wj)(t,n[1]),(0,r.Wj)(t,n[2])})),t},s.prototype.getTriangles=function(){return this.triangles_};const a=s},676122:(t,e,i)=>{"use strict";i.d(e,{Z:()=>P});var r=i(435211),o=i(949179),n=i(624969),s=i(859900),a=i(85386),h=i(613002),l=i(173381),u=function(t){function e(e,i,r,o,n,s){t.call(this,e,i,s),this.crossOrigin_=o,this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=s.Z.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,h.Vx)(this.image_,l.Z.ERROR,this.handleImageError_,this),(0,h.Vx)(this.image_,l.Z.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.bN),this.imageListenerKeys_=null},e}(n.Z);function c(){var t=(0,a.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const p=u;var g=i(593888),d=i(218672),f=i(421915),_=i(921882),v=i(152209),T=i(856245),y=function(t){function e(e,i,o,n,a,h,l,u,c,p,g){t.call(this,a,s.Z.IDLE),this.renderEdges_=void 0!==g&&g,this.pixelRatio_=l,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=n,this.wrappedTileCoord_=h||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=n.getTileCoordExtent(this.wrappedTileCoord_),y=this.targetTileGrid_.getExtent(),m=this.sourceTileGrid_.getExtent(),C=y?(0,f.Ed)(d,y):d;if(0!==(0,f.bg)(C)){var E=e.getExtent();E&&(m=m?(0,f.Ed)(m,E):E);var Z=n.getResolution(this.wrappedTileCoord_[0]),F=(0,f.qg)(C),x=(0,v.a)(e,o,F,Z);if(!isFinite(x)||x<=0)this.state=s.Z.EMPTY;else{var P=void 0!==p?p:r.m;if(this.triangulation_=new T.Z(e,o,C,m,x*P),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(x);var j=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(j[1]=(0,_.uZ)(j[1],m[1],m[3]),j[3]=(0,_.uZ)(j[3],m[1],m[3])):j=(0,f.Ed)(j,m)),(0,f.bg)(j)){for(var S=i.getTileRangeForExtentAndZ(j,this.sourceZ_),R=S.minX;R<=S.maxX;R++)for(var I=S.minY;I<=S.maxY;I++){var G=c(this.sourceZ_,R,I,l);G&&this.sourceTiles_.push(G)}0===this.sourceTiles_.length&&(this.state=s.Z.EMPTY)}else this.state=s.Z.EMPTY}else this.state=s.Z.EMPTY}}else this.state=s.Z.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==s.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=s.Z.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],n=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,v.s)(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),n,h,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=s.Z.LOADED}this.changed()},e.prototype.load=function(){if(this.state==s.Z.IDLE){this.state=s.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var o=e.getState();if(o==s.Z.IDLE||o==s.Z.LOADING){t++;var n=(0,h.oL)(e,l.Z.CHANGE,(function(i){var r=e.getState();r!=s.Z.LOADED&&r!=s.Z.ERROR&&r!=s.Z.EMPTY||((0,h.bN)(n),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){t.getState()==s.Z.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.bN),this.sourcesListenerKeys_=null},e}(n.Z);const m=y;var C=i(244280),E=i(570701),Z=i(386018),F=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:x,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!r.j)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(r.j){var o=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==o?i:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[n];s.expireCache(s==o?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return r.j&&this.getProjection()&&t&&!(0,d.OP)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(r.j&&this.getProjection()&&e&&!(0,d.OP)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!r.j)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!(0,d.OP)(i,e)){var n=(0,o.sq)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,Z.X$)(e)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!r.j)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||(0,d.OP)(i,e))return this.tileCache;var n=(0,o.sq)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new g.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,i,r,o,n){var a=[t,e,i],u=this.getTileCoordForTileUrlFunction(a,o),c=u?this.tileUrlFunction(u,r,o):void 0,p=new this.tileClass(a,void 0!==c?s.Z.IDLE:s.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=n,(0,h.oL)(p,l.Z.CHANGE,this.handleTileChange,this),p},e.prototype.getTile=function(t,e,i,o,n){var s=this.getProjection();if(r.j&&s&&n&&!(0,d.OP)(s,n)){var a,h=this.getTileCacheForProjection(n),l=[t,e,i],u=(0,E.km)(l);h.containsKey(u)&&(a=h.get(u));var c=this.getKey();if(a&&a.key==c)return a;var p=this.getTileGridForProjection(s),g=this.getTileGridForProjection(n),f=this.getTileCoordForTileUrlFunction(l,n),_=new m(s,p,n,g,l,f,this.getTilePixelRatio(o),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return _.key=c,a?(_.interimTile=a,_.refreshInterimChain(),h.replace(u,_)):h.set(u,_),_}return this.getTileInternal(t,e,i,o,s||n)},e.prototype.getTileInternal=function(t,e,i,r,o){var n=null,a=(0,E.lg)(t,e,i),h=this.getKey();if(this.tileCache.containsKey(a)){if((n=this.tileCache.get(a)).key!=h){var l=n;n=this.createTile_(t,e,i,r,o,h),l.getState()==s.Z.IDLE?n.interimTile=l.interimTile:n.interimTile=l,n.refreshInterimChain(),this.tileCache.replace(a,n)}}else n=this.createTile_(t,e,i,r,o,h),this.tileCache.set(a,n);return n},e.prototype.setRenderReprojectionEdges=function(t){if(r.j&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(r.j){var i=(0,d.U2)(t);if(i){var n=(0,o.sq)(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=e)}}},e}(C.Z);function x(t,e){t.getImage().src=e}const P=F},244280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>_});var r=i(949179),o=i(859900),n=i(989434),s=i(593888),a=i(9520),h=i(218672),l=i(450596),u=i(771405),c=i(570701),p=i(386018),g=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new s.Z(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var s,a,h,l=!0,u=i.minX;u<=i.maxX;++u)for(var p=i.minY;p<=i.maxY;++p)a=(0,c.lg)(e,u,p),h=!1,n.containsKey(a)&&(h=(s=n.get(a)).getState()===o.Z.LOADED)&&(h=!1!==r(s)),h||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,o,n){return(0,r.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,p.X$)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,h.OP)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),n=(0,l.Pq)(r.getTileSize(t),this.tmpSize);return 1==o?n:(0,l.bA)(n,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,p.Cf)(r,t,i)),(0,c.tE)(t,r)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,r){},e}(u.Z),d=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.ZP);var f=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):n.vU,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,n=(0,r.sq)(i),s=i.getState();s==o.Z.LOADING?(this.tileLoadingKeys_[n]=!0,e="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],e=s==o.Z.ERROR?"tileloaderror":s==o.Z.LOADED||s==o.Z.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new d(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=(0,n.Gk)(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.uR)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var r=(0,c.lg)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(g);const _=f},570701:(t,e,i)=>{"use strict";function r(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function o(t,e,i){return t+"/"+e+"/"+i}function n(t){return o(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function h(t){var e,i,r=t[0],o=new Array(r),n=1<<r-1;for(e=0;e<r;++e)i=48,t[1]&n&&(i+=1),t[2]&n&&(i+=2),o[e]=String.fromCharCode(i),n>>=1;return o.join("")}function l(t,e){var i=t[0],r=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var n,s=e.getExtent();return!(n=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i))||n.containsXY(r,o)}i.d(e,{T9:()=>r,lg:()=>o,km:()=>n,Ul:()=>s,vp:()=>a,OT:()=>h,tE:()=>l})},386018:(t,e,i)=>{"use strict";i.d(e,{X$:()=>u,Cf:()=>c,dl:()=>p,RZ:()=>d,Tl:()=>f});var r=i(810508),o=i(450596),n=i(421915),s=i(851748),a=i(218672),h=i(440868),l=i(408930);function u(t){var e=t.getDefaultTileGrid();return e||(e=d(t),t.setDefaultTileGrid(e)),e}function c(t,e,i){var r=e[0],o=t.getTileCoordCenter(e),s=f(i);if((0,n.b8)(s,o))return e;var a=(0,n.dz)(s),h=Math.ceil((s[0]-o[0])/a);return o[0]+=a*h,t.getTileCoordForCoordAndZ(o,r)}function p(t){var e=t||{},i=e.extent||(0,a.U2)("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:g(i,e.maxZoom,e.tileSize)};return new l.Z(r)}function g(t,e,i){for(var s=void 0!==e?e:r.e,a=(0,n.Cr)(t),h=(0,n.dz)(t),l=(0,o.Pq)(void 0!==i?i:r.S),u=Math.max(h/l[0],a/l[1]),c=s+1,p=new Array(c),g=0;g<c;++g)p[g]=u/Math.pow(2,g);return p}function d(t,e,i,r){return function(t,e,i,r){var o=void 0!==r?r:s.Z.TOP_LEFT,a=g(t,e,i);return new l.Z({extent:t,origin:(0,n.g0)(t,o),resolutions:a,tileSize:i})}(f(t),e,i,r)}function f(t){var e=(t=(0,a.U2)(t)).getExtent();if(!e){var i=180*h.METERS_PER_UNIT[h.default.DEGREES]/t.getMetersPerUnit();e=(0,n.T9)(-i,-i,i,i)}return e}},408930:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var r=i(810508),o=i(438906),n=i(19473),s=i(179682),a=i(421915),h=i(921882),l=i(450596),u=i(570701),c=[0,0,0],p=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,o.h)((0,s.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,h=this.resolutions_.length-1;i<h;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,o.h)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=(0,a.rL)(l)),(0,o.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,o.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.S,(0,o.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):l&&this.calculateTileRanges_(l)};p.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,o,s])},p.prototype.forEachTileCoordParentTileRange=function(t,e,i,r,o){var s,a,h,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],h=t[2]):l=this.getTileCoordExtent(t,o);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),h=Math.floor(h/2),s=(0,n.T)(a,a,h,h,r)):s=this.getTileRangeForExtentAndZ(l,u,r),e.call(i,u,s))return!0;--u}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return(0,n.T)(r,r+1,o,o+1,e)}var s=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},p.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),o=this.getResolution(t),n=(0,l.Pq)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*n[0]*o,h=r[0]+(e.maxX+1)*n[0]*o,u=r[1]+e.minY*n[1]*o,c=r[1]+(e.maxY+1)*n[1]*o;return(0,a.T9)(s,u,h,c,i)},p.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=c;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var o=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),(0,n.T)(o,r[1],s,r[2],i)},p.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=(0,l.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]+(t[2]+.5)*r[1]*i]},p.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=(0,l.Pq)(this.getTileSize(t[0]),this.tmpSize_),n=i[0]+t[1]*o[0]*r,s=i[1]+t[2]*o[1]*r,h=n+o[0]*r,u=s+o[1]*r;return(0,a.T9)(n,s,h,u,e)},p.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,o){var n=this.getZForResolution(i),s=i/this.getResolution(n),a=this.getOrigin(n),h=(0,l.Pq)(this.getTileSize(n),this.tmpSize_),c=r?.5:0,p=r?0:.5,g=Math.floor((t-a[0])/i+c),d=Math.floor((e-a[1])/i+p),f=s*g/h[0],_=s*d/h[1];return r?(f=Math.ceil(f)-1,_=Math.ceil(_)-1):(f=Math.floor(f),_=Math.floor(_)),(0,u.T9)(n,f,_,o)},p.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,o){var n=this.getOrigin(i),s=this.getResolution(i),a=(0,l.Pq)(this.getTileSize(i),this.tmpSize_),h=r?.5:0,c=r?0:.5,p=Math.floor((t-n[0])/s+h),g=Math.floor((e-n[1])/s+c),d=p/a[0],f=g/a[1];return r?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),(0,u.T9)(i,d,f,o)},p.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,e){var i=(0,s.h7)(this.resolutions_,t,e||0);return(0,h.uZ)(i,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i};const g=p},989434:(t,e,i)=>{"use strict";i.d(e,{uR:()=>a,Un:()=>h,vU:()=>l,Gk:()=>u});var r=i(438906),o=i(921882),n=i(570701);function s(t,e){var i=/\{z\}/g,o=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(a,h,l){return a?t.replace(i,a[0].toString()).replace(o,a[1].toString()).replace(n,(function(){return(-a[2]-1).toString()})).replace(s,(function(){var t=a[0],i=e.getFullTileRange(t);return(0,r.h)(i,55),(i.getHeight()+a[2]).toString()})):void 0}}function a(t,e){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=s(t[o],e);return h(r)}function h(t){return 1===t.length?t[0]:function(e,i,r){if(e){var s=(0,n.vp)(e),a=(0,o.$W)(s,t.length);return t[a](e,i,r)}}}function l(t,e,i){}function u(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r,o=i[1].charCodeAt(0),n=i[2].charCodeAt(0);for(r=o;r<=n;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}},578487:(t,e,i)=>{"use strict";function r(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var r=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}i.d(e,{B:()=>r})}}]);