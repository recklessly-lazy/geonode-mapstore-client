(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[98622],{23279:(t,e,i)=>{var n=i(513218),o=i(707771),r=i(14841),s=Math.max,a=Math.min;t.exports=function(t,e,i){var h,p,d,u,l,f,g=0,c=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function T(e){var i=h,n=p;return h=p=void 0,g=e,u=t.apply(n,i)}function E(t){var i=t-f;return void 0===f||i>=e||i<0||m&&t-g>=d}function P(){var t=o();if(E(t))return _(t);l=setTimeout(P,function(t){var i=e-(t-f);return m?a(i,d-(t-g)):i}(t))}function _(t){return l=void 0,v&&h?T(t):(h=p=void 0,u)}function y(){var t=o(),i=E(t);if(h=arguments,p=this,f=t,i){if(void 0===l)return function(t){return g=t,l=setTimeout(P,e),c?T(t):u}(f);if(m)return clearTimeout(l),l=setTimeout(P,e),T(f)}return void 0===l&&(l=setTimeout(P,e)),u}return e=r(e)||0,n(i)&&(c=!!i.leading,d=(m="maxWait"in i)?s(r(i.maxWait)||0,e):d,v="trailing"in i?!!i.trailing:v),y.cancel=function(){void 0!==l&&clearTimeout(l),g=0,h=f=p=l=void 0},y.flush=function(){return void 0===l?u:_(o())},y}},707771:(t,e,i)=>{var n=i(555639);t.exports=function(){return n.Date.now()}},531351:t=>{var e=Array.prototype.reverse;t.exports=function(t){return null==t?t:e.call(t)}},410240:(t,e,i)=>{var n=i(829750),o=i(880531),r=i(640554),s=i(479833);t.exports=function(t,e,i){return t=s(t),i=null==i?0:n(r(i),0,t.length),e=o(e),t.slice(i,i+e.length)==e}},193409:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n=i(540188),o=i(558493),r=i(12868),s=i(267644),a=i(85386),h=i(613002),p=i(421915),d="element",u="map",l="offset",f="position",g="positioning";const c=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.$A,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,h.oL)(this,(0,o.v_)(d),this.handleElementChanged,this),(0,h.oL)(this,(0,o.v_)(u),this.handleMapChanged,this),(0,h.oL)(this,(0,o.v_)(l),this.handleOffsetChanged,this),(0,h.oL)(this,(0,o.v_)(f),this.handlePositionChanged,this),(0,h.oL)(this,(0,o.v_)(g),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:r.Z.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(d)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(u)},e.prototype.getOffset=function(){return this.get(l)},e.prototype.getPosition=function(){return this.get(f)},e.prototype.getPositioning=function(){return this.get(g)},e.prototype.handleElementChanged=function(){(0,a.ep)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,a.ZF)(this.element),(0,h.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,h.oL)(t,n.Z.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(f)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(d,t)},e.prototype.setMap=function(t){this.set(u,t)},e.prototype.setOffset=function(t){this.set(l,t)},e.prototype.setPosition=function(t){this.set(f,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[(0,a.iO)(i),(0,a.Pb)(i)]),o=this.autoPanMargin;if(!(0,p.r4)(e,n)){var r=n[0]-e[0],s=e[2]-n[2],h=n[1]-e[1],d=e[3]-n[3],u=[0,0];if(r<0?u[0]=r-o:s<0&&(u[0]=Math.abs(s)+o),h<0?u[1]=h-o:d<0&&(u[1]=Math.abs(d)+o),0!==u[0]||0!==u[1]){var l=t.getView().getCenter(),f=t.getPixelFromCoordinate(l),g=[f[0]+u[0],f[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(g),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(g,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var s=n[0],a=n[1];if(o==r.Z.BOTTOM_RIGHT||o==r.Z.CENTER_RIGHT||o==r.Z.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=i.left="");var h=Math.round(e[0]-t[0]-s)+"px";this.rendered.right_!=h&&(this.rendered.right_=i.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=i.right=""),o!=r.Z.BOTTOM_CENTER&&o!=r.Z.CENTER_CENTER&&o!=r.Z.TOP_CENTER||(s-=this.element.offsetWidth/2);var p=Math.round(t[0]+s)+"px";this.rendered.left_!=p&&(this.rendered.left_=i.left=p)}if(o==r.Z.BOTTOM_LEFT||o==r.Z.BOTTOM_CENTER||o==r.Z.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=i.top="");var d=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=d&&(this.rendered.bottom_=i.bottom=d)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=i.bottom=""),o!=r.Z.CENTER_LEFT&&o!=r.Z.CENTER_CENTER&&o!=r.Z.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var u=Math.round(t[1]+a)+"px";this.rendered.top_!=u&&(this.rendered.top_=i.top=u)}},e.prototype.getOptions=function(){return this.options},e}(o.ZP)},12868:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}}}]);